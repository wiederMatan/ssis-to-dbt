{
  "version": "1.0.0",
  "generated_at": "2026-01-29T15:40:00",
  "packages": [
    {
      "ssis_package": "CustomerDataLoad.dtsx",
      "description": "Load customer data from CRM to DW dimension table",
      "tasks": [
        {
          "ssis_task": "Truncate Staging",
          "ssis_type": "ExecuteSQLTask",
          "dbt_model": null,
          "dbt_strategy": "Not needed - dbt handles table recreation",
          "status": "skipped"
        },
        {
          "ssis_task": "Load Customer Data",
          "ssis_type": "DataFlowTask",
          "dbt_model": "stg_crm__customers",
          "dbt_layer": "staging",
          "dbt_file": "models/staging/stg_crm__customers.sql",
          "transforms_mapped": [
            {
              "ssis_component": "OLE DB Source",
              "dbt_equivalent": "{{ source('crm', 'customers') }}"
            },
            {
              "ssis_component": "Derived Column (FullName)",
              "dbt_equivalent": "CONCAT(first_name, ' ', last_name) AS full_name"
            },
            {
              "ssis_component": "Derived Column (EmailDomain)",
              "dbt_equivalent": "SUBSTRING(email, CHARINDEX('@', email) + 1, LEN(email)) AS email_domain"
            }
          ],
          "status": "converted"
        },
        {
          "ssis_task": "Merge to Dimension",
          "ssis_type": "ExecuteSQLTask",
          "dbt_model": "dim_customer",
          "dbt_layer": "core",
          "dbt_file": "models/core/dim_customer.sql",
          "original_sql_pattern": "MERGE",
          "dbt_strategy": "Table materialization with surrogate keys",
          "status": "converted"
        }
      ]
    },
    {
      "ssis_package": "SalesFactETL.dtsx",
      "description": "Sales fact table ETL with dimension lookups",
      "tasks": [
        {
          "ssis_task": "Pre-ETL Validation",
          "ssis_type": "ExecuteSQLTask",
          "dbt_model": null,
          "dbt_strategy": "Handled via dbt tests on source tables",
          "status": "converted_to_tests"
        },
        {
          "ssis_task": "Load Sales Facts",
          "ssis_type": "DataFlowTask",
          "dbt_model": "fct_sales",
          "dbt_layer": "core",
          "dbt_file": "models/core/fct_sales.sql",
          "staging_model": "stg_sales__transactions",
          "staging_file": "models/staging/stg_sales__transactions.sql",
          "transforms_mapped": [
            {
              "ssis_component": "OLE DB Source",
              "dbt_equivalent": "{{ source('sales', 'transactions') }}"
            },
            {
              "ssis_component": "Lookup Customer",
              "dbt_equivalent": "LEFT JOIN {{ ref('dim_customer') }}"
            },
            {
              "ssis_component": "Lookup Product",
              "dbt_equivalent": "LEFT JOIN {{ source('datawarehouse', 'dim_product') }}"
            },
            {
              "ssis_component": "Lookup Date",
              "dbt_equivalent": "LEFT JOIN {{ source('datawarehouse', 'dim_date') }}"
            },
            {
              "ssis_component": "Calculate Amounts (GrossAmount)",
              "dbt_equivalent": "quantity * unit_price AS gross_amount"
            },
            {
              "ssis_component": "Calculate Amounts (DiscountAmount)",
              "dbt_equivalent": "(quantity * unit_price) * (discount_percent / 100.0) AS discount_amount"
            },
            {
              "ssis_component": "Calculate Amounts (NetAmount)",
              "dbt_equivalent": "gross_amount - discount_amount AS net_amount"
            }
          ],
          "status": "converted"
        },
        {
          "ssis_task": "Update Aggregates",
          "ssis_type": "ExecuteSQLTask",
          "dbt_model": "agg_daily_sales",
          "dbt_layer": "core",
          "dbt_file": "models/core/agg_daily_sales.sql",
          "original_sql_pattern": "DELETE + INSERT (aggregate refresh)",
          "dbt_strategy": "Table materialization replaces DELETE+INSERT",
          "status": "converted"
        }
      ]
    },
    {
      "ssis_package": "InventorySync.dtsx",
      "description": "Inventory synchronization with external API",
      "tasks": [
        {
          "ssis_task": "Get Last Sync Time",
          "ssis_type": "ExecuteSQLTask",
          "dbt_model": null,
          "dbt_strategy": "Metadata handled externally or via dbt macros",
          "status": "skipped"
        },
        {
          "ssis_task": "Call Inventory API",
          "ssis_type": "ScriptTask",
          "dbt_model": null,
          "manual_review_required": true,
          "review_reason": "Script Tasks require manual conversion to Python",
          "suggested_approach": [
            "Create Python script to call API and stage data",
            "Use Airbyte or Fivetran connector if available",
            "Implement as dbt Python model (dbt 1.3+)"
          ],
          "status": "manual_review"
        },
        {
          "ssis_task": "Load Inventory Updates",
          "ssis_type": "DataFlowTask",
          "dbt_model": "fct_inventory_snapshot",
          "dbt_layer": "core",
          "dbt_file": "models/core/fct_inventory_snapshot.sql",
          "staging_model": "stg_warehouse__inventory",
          "staging_file": "models/staging/stg_warehouse__inventory.sql",
          "transforms_mapped": [
            {
              "ssis_component": "OLE DB Source (stg.InventoryAPI)",
              "dbt_equivalent": "{{ source('warehouse', 'inventory_api') }}"
            },
            {
              "ssis_component": "Lookup Product",
              "dbt_equivalent": "LEFT JOIN {{ source('datawarehouse', 'dim_product') }}"
            },
            {
              "ssis_component": "Lookup Warehouse",
              "dbt_equivalent": "LEFT JOIN {{ source('datawarehouse', 'dim_warehouse') }}"
            },
            {
              "ssis_component": "Calculate Metrics (InventoryValue)",
              "dbt_equivalent": "quantity_on_hand * unit_cost AS inventory_value"
            },
            {
              "ssis_component": "Calculate Metrics (StockStatus)",
              "dbt_equivalent": "CASE WHEN qty <= 0 THEN 'Out of Stock' ... END AS stock_status"
            },
            {
              "ssis_component": "Calculate Metrics (DaysOfSupply)",
              "dbt_equivalent": "(quantity_available / reorder_point) * 30 AS days_of_supply"
            }
          ],
          "status": "converted"
        },
        {
          "ssis_task": "Update Sync Log",
          "ssis_type": "ExecuteSQLTask",
          "dbt_model": null,
          "dbt_strategy": "Handled externally or via dbt run hooks",
          "status": "skipped"
        },
        {
          "ssis_task": "Send Completion Email",
          "ssis_type": "SendMailTask",
          "dbt_model": null,
          "skip_reason": "Email notifications handled externally",
          "suggested_approach": [
            "Use dbt Cloud Slack/email notifications",
            "Implement via orchestrator (Airflow, Prefect)",
            "Add custom webhook in on-run-end hook"
          ],
          "status": "skipped"
        }
      ]
    }
  ],
  "summary": {
    "total_ssis_tasks": 11,
    "converted": 6,
    "converted_to_tests": 1,
    "skipped": 3,
    "manual_review": 1,
    "conversion_rate": "63.6%"
  },
  "dbt_models_created": {
    "staging": [
      "stg_crm__customers",
      "stg_sales__transactions",
      "stg_warehouse__inventory"
    ],
    "core": [
      "dim_customer",
      "fct_sales",
      "fct_inventory_snapshot",
      "agg_daily_sales"
    ]
  }
}
